find_trending_companies:
  description: >
    Find the top trending companies in the news in {sector} by searching for the latest and most recent news.
    Use the search tool to find companies that are currently trending. Find new companies that you've not found before.
    IMPORTANT: Since "trending" means what's happening now, prioritize the most recent information. Include "2025" in your search queries to ensure you get current year trends, news, and developments.
  expected_output: >
    A list of trending companies in {sector} based on the most recent news and trends
  agent: trending_company_finder
  output_file: output/trending_companies.json

research_trending_companies:
  description: >
    Given a list of trending companies, provide detailed analysis of each company in a report by searching online.
    Use the search tool to find the most recent information about each company.
    IMPORTANT: Prioritize the most current information available. Include "2025" in your search queries to get the latest data, news, financial reports, and market developments from the current year.
  expected_output: >
    A report containing detailed analysis of each company based on the most recent information available
  agent: financial_researcher
  context:
    - find_trending_companies
  output_file: output/research_report.json

pick_best_company:
  description: >
    Analyze the research findings and pick the best company for investment.
    Optionally send a push notification to the user with the decision and 1 sentence rationale.
    Then respond with a detailed report on why you chose this company, and which companies were not selected.
  expected_output: >
    The chosen company and why it was chosen; the companies that were not selected and why they were not selected.
  agent: stock_picker
  context:
    - research_trending_companies
  output_file: output/decision.md

send_email:
  description: >
    Read the investment thesis from output/decision.md and send it via email using the email tool.
    The email should contain the full investment thesis report with all details about the selected company and the companies that were not selected.
  expected_output: >
    Confirmation that the investment thesis has been sent via email.
  agent: email_agent
  context:
    - pick_best_company
